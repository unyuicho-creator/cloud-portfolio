name: terraform-apply 

on: 
　push: 
　　branches: [ main ] 

permissions: 
　id-token: write 
　contents: read 

jobs: 
　apply: 
　　runs-on: ubuntu-latest 
　　env: 
　　　AWS_REGION: ap-northeast-1 
　　steps: 
　　　- uses: actions/checkout@v4 

- name: Setup Terraform 
　uses: hashicorp/setup-terraform@v3 
　with: 
　　terraform_version: 1.8.0 

- name: Configure AWS credentials (OIDC) 
　uses: aws-actions/configure-aws-credentials@v4 
　with: 
　　role-to-assume: 
arn:aws:iam::249896948893:role/github-actions-terraform aws-region: ${{ env.AWS_REGION }} 

- name: Terraform init 
　run: terraform init -input=false 

- name: Terraform apply 
　run: terraform apply -auto-approve
